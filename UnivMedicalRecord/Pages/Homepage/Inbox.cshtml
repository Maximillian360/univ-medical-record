@page
@using Microsoft.AspNetCore.Mvc.TagHelpers
@using Microsoft.EntityFrameworkCore
@using UniversityMedicalRecord.Data
@using UniversityMedicalRecord.Models
@model UnivMedicalRecord.Pages.Homepage.Inbox


@{
  Layout = null;
}
<html>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
        <div>
          <div class="row d-flex justify-content-md-center vh-100" style="background: #8080">
            <div class="col-md-10">
              <div class="card m-lg-5 h-75 border-dark">
                <h4 class="card-header">
                  Message Board
                  <form class="d-lg-inline"method="post">
                    <button type="submit" class="btn btn-dark m-1" width="16" height="16" asp-page-handler="Compose" style="float: right">Compose</button>
                    <button type="submit" class="btn btn-danger m-1" width="16" height="16" asp-page-handler="Close" style="float: right">Back</button>
                  </form>
                </h4>
                <div class="card-body">
                  @{
                    if (!Model.Messages.Any())
                    {
                      <div align="center">
                        <text>You have no messages.</text>
                      </div>
                    }
                    else
                    {
                      <div class="row mt-2">
                        <div class="col-md-15">
                          <table class="table">
                            <thead>
                            <tr>
                              <th>From</th>
                              <th>Date</th>
                              <th>Message</th>
                            </tr>
                            </thead>
                            <tbody>
                            @foreach (var x in Model.Messages)
                            {
                              <tr>
                                <td>@x.User.Username</td>
                                <td>@x.Date</td>
                                <td>@x.message</td>
                              </tr>
                            }
                            </tbody>
                          </table>
                        </div>
                      </div>
                    }
                  }
                </div>
              </div>
            </div>
          </div>
        </div>
</html>



